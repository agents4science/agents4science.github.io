<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 220">
  <defs>
    <marker id="arr-c" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L8,3 z" fill="#666"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Container -->
  <rect x="20" y="15" width="360" height="190" rx="10" fill="#EBF4FC" stroke="#4A90D9" stroke-width="2" filter="url(#shadow)"/>
  <text x="200" y="38" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#4A90D9">ConversationMemory</text>

  <!-- Short-term -->
  <rect x="40" y="55" width="140" height="55" rx="6" fill="white" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="110" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#333">Short-term</text>
  <text x="110" y="95" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">(messages[])</text>

  <!-- Long-term -->
  <rect x="220" y="55" width="140" height="55" rx="6" fill="white" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="290" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#333">Long-term</text>
  <text x="290" y="95" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">(facts{})</text>

  <!-- Arrows down -->
  <line x1="110" y1="110" x2="110" y2="130" stroke="#666" stroke-width="1.5" marker-end="url(#arr-c)"/>
  <line x1="290" y1="110" x2="290" y2="130" stroke="#666" stroke-width="1.5" marker-end="url(#arr-c)"/>

  <!-- Sliding Window -->
  <rect x="40" y="135" width="140" height="30" rx="4" fill="white" stroke="#999" stroke-width="1"/>
  <text x="110" y="155" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Sliding Window (max=20)</text>

  <!-- Key-Value Store -->
  <rect x="220" y="135" width="140" height="30" rx="4" fill="white" stroke="#999" stroke-width="1"/>
  <text x="290" y="155" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Key-Value Store</text>

  <!-- Summary -->
  <rect x="40" y="175" width="320" height="25" rx="4" fill="white" stroke="#999" stroke-width="1"/>
  <text x="200" y="192" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Summary (compressed old messages)</text>
</svg>