<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 440 280" width="440" height="280">
  <defs>
    <marker id="ha_arrow-r" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L8,3 z" fill="#4A90D9"/>
    </marker>
    <filter id="ha_shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="220" y="22" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#666">Hybrid Agent Architecture</text>

  <!-- Academy Agent outer container -->
  <rect x="30" y="38" width="380" height="230" rx="12" fill="#EDF7F1" stroke="#50B87D" stroke-width="2" filter="url(#ha_shadow)"/>
  <text x="220" y="62" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#50B87D">Academy Agent</text>

  <!-- LangGraph inner container -->
  <rect x="50" y="78" width="340" height="130" rx="8" fill="#EBF4FC" stroke="#4A90D9" stroke-width="2"/>
  <text x="220" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#4A90D9">LangGraph (ReAct Agent)</text>

  <!-- LLM box -->
  <rect x="70" y="115" width="80" height="50" rx="6" fill="white" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="110" y="138" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#333">LLM</text>
  <text x="110" y="154" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#888">reasoning</text>

  <!-- Arrow LLM to Tools -->
  <line x1="155" y1="140" x2="175" y2="140" stroke="#4A90D9" stroke-width="1.5" marker-end="url(#ha_arrow-r)"/>

  <!-- Tools box -->
  <rect x="180" y="115" width="80" height="50" rx="6" fill="white" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="220" y="138" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#333">Tools</text>
  <text x="220" y="154" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#888">@tool funcs</text>

  <!-- Arrow Tools to State -->
  <line x1="265" y1="140" x2="285" y2="140" stroke="#4A90D9" stroke-width="1.5" marker-end="url(#ha_arrow-r)"/>

  <!-- State box -->
  <rect x="290" y="115" width="80" height="50" rx="6" fill="white" stroke="#4A90D9" stroke-width="1.5"/>
  <text x="330" y="138" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#333">State</text>
  <text x="330" y="154" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#888">messages</text>

  <!-- @action methods row -->
  <rect x="50" y="220" width="340" height="38" rx="6" fill="white" stroke="#50B87D" stroke-width="1.5"/>
  <text x="220" y="244" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#50B87D">@action research(task) â†’ exposes LLM capabilities to network</text>
</svg>