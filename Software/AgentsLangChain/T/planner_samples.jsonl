{"messages":[{"role":"system","content":"You are a Planner agent. Given a user goal, return ONLY a JSON object with keys: objective, assumptions, steps (list of {id, action, tool, inputs}), parallelizable (list of step ids that can run in parallel), stop_condition, evaluation, risks, rollback. Do not add prose."},{"role":"user","content":"Summarize three recent papers on agentic scientific discovery platforms and make five-slide bullets for my class."},{"role":"assistant","content":"{\"objective\":\"Produce 5-slide bullet summaries from 3 recent papers on agentic scientific discovery platforms\",\"assumptions\":[\"Access to academic search APIs\",\"User prefers concise slide bullets\"],\"steps\":[{\"id\":\"s1\",\"action\":\"query_recent_papers\",\"tool\":\"literature.search\",\"inputs\":{\"query\":\"agentic scientific discovery platform\",\"years\":3,\"limit\":10}}, {\"id\":\"s2\",\"action\":\"rank_by_relevance\",\"tool\":\"literature.rank\",\"inputs\":{\"candidates\":\"@s1.results\",\"criteria\":[\"venue_quality\",\"citations\",\"novelty\"]}}, {\"id\":\"s3\",\"action\":\"select_top_n\",\"tool\":\"data.select\",\"inputs\":{\"items\":\"@s2.ranked\",\"n\":3}}, {\"id\":\"s4\",\"action\":\"fetch_full_text\",\"tool\":\"literature.fetch\",\"inputs\":{\"papers\":\"@s3.selected\"}}, {\"id\":\"s5\",\"action\":\"extract_key_points\",\"tool\":\"nlp.summarize\",\"inputs\":{\"texts\":\"@s4.full_text\",\"bullets_per_paper\":8}}, {\"id\":\"s6\",\"action\":\"assemble_slides\",\"tool\":\"slides.build\",\"inputs\":{\"paper_bullets\":\"@s5.points\",\"slides\":5,\"style\":\"class_minimal\"}}, {\"id\":\"s7\",\"action\":\"export\",\"tool\":\"slides.export\",\"inputs\":{\"doc\":\"@s6.deck\",\"format\":\"pptx\"}}],\"parallelizable\":[\"s1\",\"s4\"],\"stop_condition\":\"Slide deck exported\",\"evaluation\":\"Check coverage (3 papers), correctness, and duplication across slides\",\"risks\":[\"Paywalled papers\",\"Hallucinated bullets\"],\"rollback\":\"If fetch fails, swap with open-access alternatives from @s2.ranked.\"}"}]}
{"messages":[{"role":"system","content":"You are a Planner agent. Given a user goal, return ONLY the specified JSON object."},{"role":"user","content":"Plan an experiment to measure adsorption energy of CO on Pt(111) at 300 K using DFT and compare to literature."},{"role":"assistant","content":"{\"objective\":\"Estimate CO adsorption energy on Pt(111) at 300 K via DFT and compare with literature\",\"assumptions\":[\"Access to VASP/Quantum ESPRESSO\",\"Surface slab and k-point templates exist\"],\"steps\":[{\"id\":\"s1\",\"action\":\"retrieve_surface_slab\",\"tool\":\"cad.library.get\",\"inputs\":{\"material\":\"Pt\",\"facet\":\"111\",\"layers\":4,\"vacuum_A\":15}}, {\"id\":\"s2\",\"action\":\"relax_clean_slab\",\"tool\":\"dft.optimize\",\"inputs\":{\"structure\":\"@s1.slab\",\"ecut\":450,\"kmesh\":[6,6,1]}}, {\"id\":\"s3\",\"action\":\"place_adsorbate\",\"tool\":\"structures.builder\",\"inputs\":{\"adsorbate\":\"CO\",\"site\":\"top\",\"height_A\":1.8,\"structure\":\"@s2.relaxed\"}}, {\"id\":\"s4\",\"action\":\"relax_adsorbed\",\"tool\":\"dft.optimize\",\"inputs\":{\"structure\":\"@s3.initial\",\"smearing\":\"Methfessel-Paxton\",\"kmesh\":[6,6,1]}}, {\"id\":\"s5\",\"action\":\"single_point_energies\",\"tool\":\"dft.energy\",\"inputs\":{\"structures\":[\"@s2.relaxed\",\"@s4.relaxed\",\"CO_gas_box\"]}}, {\"id\":\"s6\",\"action\":\"compute_delta_E\",\"tool\":\"analysis.formula\",\"inputs\":{\"E_slab\":\"@s5.E0\",\"E_ads\":\"@s5.E1\",\"E_CO_gas\":\"@s5.E2\",\"T\":300}}, {\"id\":\"s7\",\"action\":\"literature_compare\",\"tool\":\"literature.search\",\"inputs\":{\"query\":\"CO adsorption energy Pt(111) 300 K\",\"limit\":20}}],\"parallelizable\":[\"s5\",\"s7\"],\"stop_condition\":\"ΔE computed and table of literature values produced\",\"evaluation\":\"Verify convergence (ecut/kmesh), adsorption site stability, and agreement within 0.1–0.2 eV\",\"risks\":[\"Metastable adsorption site\",\"Finite-size effects\"],\"rollback\":\"Increase slab layers/kmesh if convergence fails; try bridge/hollow sites.\"}"}]}
{"messages":[{"role":"system","content":"You are a Planner agent. Return ONLY the JSON schema object."},{"role":"user","content":"Create a one-day Chicago itinerary for a visitor who likes architecture and modern art; they’ll use public transit."},{"role":"assistant","content":"{\"objective\":\"Design a one-day transit-friendly Chicago itinerary focused on architecture and modern art\",\"assumptions\":[\"Start at downtown hotel\",\"Ventra card available\"],\"steps\":[{\"id\":\"s1\",\"action\":\"map_points\",\"tool\":\"maps.poi\",\"inputs\":{\"themes\":[\"architecture\",\"modern art\"],\"city\":\"Chicago\",\"limit\":12}}, {\"id\":\"s2\",\"action\":\"build_route\",\"tool\":\"transit.plan\",\"inputs\":{\"stops\":\"@s1.pois\",\"start_time\":\"09:00\",\"mode\":\"CTA\"}}, {\"id\":\"s3\",\"action\":\"timebox\",\"tool\":\"schedule.balance\",\"inputs\":{\"route\":\"@s2.plan\",\"meals\":2,\"breaks\":2}}, {\"id\":\"s4\",\"action\":\"export_itinerary\",\"tool\":\"docs.render\",\"inputs\":{\"schedule\":\"@s3.schedule\",\"format\":\"pdf\"}}],\"parallelizable\":[\"s1\"],\"stop_condition\":\"PDF itinerary exported\",\"evaluation\":\"Check total walking < 5 miles, museum hours, and CTA headways\",\"risks\":[\"Weather delays\",\"Museum closures\"],\"rollback\":\"Suggest indoor alternates near each stop.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Clean a CSV of materials measurements: remove duplicates, standardize units to SI, and flag outliers."},{"role":"assistant","content":"{\"objective\":\"Produce a cleaned CSV with SI units and outlier flags\",\"assumptions\":[\"CSV fits in memory\",\"Unit metadata present in headers\"],\"steps\":[{\"id\":\"s1\",\"action\":\"load_csv\",\"tool\":\"data.read\",\"inputs\":{\"path\":\"measurements.csv\"}}, {\"id\":\"s2\",\"action\":\"deduplicate\",\"tool\":\"data.clean\",\"inputs\":{\"df\":\"@s1.df\",\"keys\":[\"sample_id\",\"timestamp\"]}}, {\"id\":\"s3\",\"action\":\"unit_standardize\",\"tool\":\"data.units.to_SI\",\"inputs\":{\"df\":\"@s2.df\",\"columns\":{\"temp\":\"C->K\",\"pressure\":\"bar->Pa\",\"length\":\"nm->m\"}}}, {\"id\":\"s4\",\"action\":\"detect_outliers\",\"tool\":\"stats.outliers\",\"inputs\":{\"df\":\"@s3.df\",\"method\":\"IQR\",\"cols\":[\"measurement\"]}}, {\"id\":\"s5\",\"action\":\"export\",\"tool\":\"data.write\",\"inputs\":{\"df\":\"@s4.df\",\"path\":\"measurements_clean.csv\"}}],\"parallelizable\":[\"s2\",\"s3\"],\"stop_condition\":\"Cleaned file written\",\"evaluation\":\"Nulls reduced, units consistent, outlier rate < 5% unless justified\",\"risks\":[\"Ambiguous units\",\"Timestamp collisions\"],\"rollback\":\"Keep original rows with provenance in a separate archive CSV.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Schedule a 45-minute meeting with Alice and Bob this week, mornings only, Zoom preferred."},{"role":"assistant","content":"{\"objective\":\"Find a 45-minute morning slot with Alice and Bob and create Zoom invite\",\"assumptions\":[\"Access to calendars\",\"Time zone America/Chicago\"],\"steps\":[{\"id\":\"s1\",\"action\":\"availability_search\",\"tool\":\"calendar.find_free\",\"inputs\":{\"attendees\":[\"alice@example.com\",\"bob@example.com\"],\"duration_min\":45,\"days\":\"this_week\",\"window\":\"08:00-12:00\"}}, {\"id\":\"s2\",\"action\":\"pick_best_slot\",\"tool\":\"schedule.rank\",\"inputs\":{\"slots\":\"@s1.slots\",\"criteria\":[\"earliest\",\"least_conflicts\"]}}, {\"id\":\"s3\",\"action\":\"create_zoom\",\"tool\":\"video.create_meeting\",\"inputs\":{\"title\":\"Project sync\",\"duration_min\":45}}, {\"id\":\"s4\",\"action\":\"send_invite\",\"tool\":\"calendar.create_event\",\"inputs\":{\"slot\":\"@s2.slot\",\"attendees\":\"@s1.attendees\",\"location\":\"@s3.link\"}}],\"parallelizable\":[\"s1\",\"s3\"],\"stop_condition\":\"Event created and invites sent\",\"evaluation\":\"All attendees accepted or tentative\",\"risks\":[\"Calendar access denied\",\"Time zone mismatch\"],\"rollback\":\"Offer 3 alternative slots if invite declines exceed 1.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Find three candidate farmhouses (mas) west of Avignon: ≥3 bedrooms, pool, budget ≤ €500k; assemble pros/cons."},{"role":"assistant","content":"{\"objective\":\"Produce a shortlist of 3 mas west of Avignon under €500k with ≥3 bedrooms and pool\",\"assumptions\":[\"Data from multiple listing sites\",\"Prices include agency fees\"],\"steps\":[{\"id\":\"s1\",\"action\":\"search_listings\",\"tool\":\"realestate.search\",\"inputs\":{\"region\":\"Gard/Provence Ouest Avignon\",\"min_bedrooms\":3,\"features\":[\"pool\"],\"max_price\":500000,\"property_type\":\"mas\"}}, {\"id\":\"s2\",\"action\":\"dedupe_listings\",\"tool\":\"realestate.dedupe\",\"inputs\":{\"listings\":\"@s1.results\"}}, {\"id\":\"s3\",\"action\":\"score_listings\",\"tool\":\"realestate.score\",\"inputs\":{\"listings\":\"@s2.unique\",\"criteria\":[\"price_per_m2\",\"proximity_services\",\"noise\",\"vis-a-vis\"]}}, {\"id\":\"s4\",\"action\":\"select_top3\",\"tool\":\"data.select\",\"inputs\":{\"items\":\"@s3.scored\",\"n\":3}}, {\"id\":\"s5\",\"action\":\"compile_summary\",\"tool\":\"docs.table\",\"inputs\":{\"items\":\"@s4.items\",\"fields\":[\"price\",\"surface_m2\",\"bedrooms\",\"pool\",\"town\",\"pros\",\"cons\"]}}],\"parallelizable\":[\"s1\",\"s3\"],\"stop_condition\":\"Summary table ready\",\"evaluation\":\"Verify location west of Avignon and legal pool status\",\"risks\":[\"Outdated listings\",\"Septic compliance issues\"],\"rollback\":\"Expand radius or relax pool constraint if <3 results.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Debug my RAG: retrieval is good but answers cite wrong papers. Propose a fix plan."},{"role":"assistant","content":"{\"objective\":\"Reduce citation mismatches in RAG outputs\",\"assumptions\":[\"We can modify retriever, reranker, and citation linker\"],\"steps\":[{\"id\":\"s1\",\"action\":\"collect_fail_cases\",\"tool\":\"logs.search\",\"inputs\":{\"pattern\":\"citation_mismatch\",\"limit\":100}}, {\"id\":\"s2\",\"action\":\"evaluate_reranker\",\"tool\":\"eval.benchmark\",\"inputs\":{\"pairs\":\"@s1.cases\",\"metrics\":[\"nDCG@10\",\"MAP\"]}}, {\"id\":\"s3\",\"action\":\"train_citation_linker\",\"tool\":\"nlp.train_linker\",\"inputs\":{\"examples\":\"@s1.cases\",\"features\":[\"span_overlap\",\"doi_match\",\"entity_link\"]}}, {\"id\":\"s4\",\"action\":\"enable_attribution_guard\",\"tool\":\"generation.config\",\"inputs\":{\"require_source_span\":true,\"min_overlap\":0.6}}, {\"id\":\"s5\",\"action\":\"A/B_test\",\"tool\":\"eval.ab\",\"inputs\":{\"control\":\"current\",\"treatment\":\"@s2.best+@s3.linker+@s4.guard\",\"metric\":\"correct_attribution\"}}],\"parallelizable\":[\"s2\",\"s3\",\"s4\"],\"stop_condition\":\"Attribution ≥ 95% on holdout set\",\"evaluation\":\"Manual spot-check 20 samples\",\"risks\":[\"Overfitting to fail cases\"],\"rollback\":\"Revert to control if treatment < control by 2%.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Set up a weekly pipeline to ingest lab notebook PDFs into a vector DB with OCR and metadata extraction."},{"role":"assistant","content":"{\"objective\":\"Automate weekly ingestion of lab PDFs into a vector database with OCR and metadata\",\"assumptions\":[\"PDFs dropped in shared folder Sunday night\",\"Vector DB embeddings configured\"],\"steps\":[{\"id\":\"s1\",\"action\":\"watch_folder\",\"tool\":\"fs.watch\",\"inputs\":{\"path\":\"/shared/lab_notebooks\",\"cron\":\"0 2 * * 1\"}}, {\"id\":\"s2\",\"action\":\"ocr_extract\",\"tool\":\"ocr.process\",\"inputs\":{\"files\":\"@s1.changed\",\"lang\":\"en\"}}, {\"id\":\"s3\",\"action\":\"metadata_parse\",\"tool\":\"nlp.extract\",\"inputs\":{\"texts\":\"@s2.texts\",\"schema\":[\"author\",\"date\",\"experiment\",\"chemicals\"]}}, {\"id\":\"s4\",\"action\":\"embed_and_upsert\",\"tool\":\"vectordb.upsert\",\"inputs\":{\"texts\":\"@s2.texts\",\"metadata\":\"@s3.metadata\",\"index\":\"lab_notes\"}}, {\"id\":\"s5\",\"action\":\"report\",\"tool\":\"notify.email\",\"inputs\":{\"to\":\"lab@org\",\"summary\":\"@s4.stats\"}}],\"parallelizable\":[\"s2\",\"s3\"],\"stop_condition\":\"Weekly cron confirmed, ingestion success report sent\",\"evaluation\":\"Spot-check 5 random docs for OCR and metadata quality\",\"risks\":[\"Scanned images too low DPI\"],\"rollback\":\"Route failing PDFs to manual queue with thumbnails.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Given 200 HPC jobs, schedule them to minimize wall-clock while respecting per-user quotas and GPU memory."},{"role":"assistant","content":"{\"objective\":\"Schedule 200 HPC jobs to minimize makespan under quotas and GPU memory constraints\",\"assumptions\":[\"Access to cluster queue API\",\"Each job has resource profile\"],\"steps\":[{\"id\":\"s1\",\"action\":\"fetch_queue_state\",\"tool\":\"hpc.queue.status\",\"inputs\":{}}, {\"id\":\"s2\",\"action\":\"gather_job_profiles\",\"tool\":\"hpc.jobs.describe\",\"inputs\":{\"job_ids\":\"pending_all\"}}, {\"id\":\"s3\",\"action\":\"constraint_model\",\"tool\":\"opt.model\",\"inputs\":{\"jobs\":\"@s2.jobs\",\"constraints\":[\"per_user_quota\",\"gpu_mem\",\"max_concurrent\"]}}, {\"id\":\"s4\",\"action\":\"solve_schedule\",\"tool\":\"opt.solve\",\"inputs\":{\"model\":\"@s3.model\",\"objective\":\"minimize_makespan\"}}, {\"id\":\"s5\",\"action\":\"submit_batches\",\"tool\":\"hpc.queue.submit\",\"inputs\":{\"batches\":\"@s4.batches\"}}],\"parallelizable\":[\"s1\",\"s2\"],\"stop_condition\":\"All jobs submitted per optimized batches\",\"evaluation\":\"Compare predicted vs actual start times; adjust model\",\"risks\":[\"Preemption\",\"Queue policy drift\"],\"rollback\":\"Fallback to FIFO by deadline class if solver fails.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Track SiLA 2 and OPC UA device support across our lab instruments and propose adapter priorities."},{"role":"assistant","content":"{\"objective\":\"Inventory lab devices for SiLA 2/OPC UA support and propose adapter build priorities\",\"assumptions\":[\"Device list available from CMDB\",\"Some vendors expose partial compliance\"],\"steps\":[{\"id\":\"s1\",\"action\":\"pull_inventory\",\"tool\":\"cmdb.export\",\"inputs\":{\"tags\":[\"instrument\",\"lab\"]}}, {\"id\":\"s2\",\"action\":\"capability_probe\",\"tool\":\"devices.query_standards\",\"inputs\":{\"devices\":\"@s1.devices\",\"standards\":[\"SiLA 2\",\"OPC UA\"]}}, {\"id\":\"s3\",\"action\":\"gap_analysis\",\"tool\":\"analysis.compare\",\"inputs\":{\"detected\":\"@s2.capabilities\",\"use_cases\":[\"discovery\",\"monitoring\",\"control\"]}}, {\"id\":\"s4\",\"action\":\"priority_scoring\",\"tool\":\"analysis.score\",\"inputs\":{\"items\":\"@s3.gaps\",\"criteria\":[\"impact\",\"dev_effort\",\"risk\"]}}, {\"id\":\"s5\",\"action\":\"roadmap_doc\",\"tool\":\"docs.render\",\"inputs\":{\"table\":\"@s4.scored\",\"format\":\"md\"}}],\"parallelizable\":[\"s1\",\"s2\"],\"stop_condition\":\"Roadmap document generated\",\"evaluation\":\"Review with lab leads; confirm top 5 adapters\",\"risks\":[\"Vendor firmware limitations\"],\"rollback\":\"If probes fail, request vendor protocol guides and sample nodes.\"}"}]}
{"messages":[{"role":"system","content":"Planner agent JSON only."},{"role":"user","content":"Use cellular-signal attenuation as a proxy for rainfall to improve nowcasting over Chicago. Outline the pipeline."},{"role":"assistant","content":"{\"objective\":\"Design a pipeline to use cellular signal attenuation as a rainfall proxy for Chicago nowcasting\",\"assumptions\":[\"Access to anonymized signal strength data\",\"Ground truth radar available\"],\"steps\":[{\"id\":\"s1\",\"action\":\"ingest_signals\",\"tool\":\"ingest.kafka\",\"inputs\":{\"topics\":[\"cell_rssi\"],\"window\":\"15m\"}}, {\"id\":\"s2\",\"action\":\"geo_bin\",\"tool\":\"geo.grid\",\"inputs\":{\"records\":\"@s1.stream\",\"cellsize_km\":1}}, {\"id\":\"s3\",\"action\":\"merge_radar_truth\",\"tool\":\"weather.fetch\",\"inputs\":{\"product\":\"NEXRAD\",\"window\":\"15m\"}}, {\"id\":\"s4\",\"action\":\"train_mapping\",\"tool\":\"ml.train\",\"inputs\":{\"X\":\"@s2.binned\",\"y\":\"@s3.radar\",\"model\":\"gradient_boost\"}}, {\"id\":\"s5\",\"action\":\"deploy_nowcast\",\"tool\":\"serve.model\",\"inputs\":{\"model\":\"@s4.model\",\"latency_ms\":5000}}],\"parallelizable\":[\"s1\",\"s3\"],\"stop_condition\":\"Nowcast service deployed with stable latency\",\"evaluation\":\"Correlation with radar ≥ 0.7 on holdout storms\",\"risks\":[\"Carrier policy changes\",\"Multipath noise\"],\"rollback\":\"Fallback to radar-only nowcast if correlation < 0.5.\"}"}]}

